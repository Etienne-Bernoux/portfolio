<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Etienne Bernoux — Tech Lead & Software Craftsman</title>
  <meta name="description" content="Etienne Bernoux — Artisan développeur passionné, Tech Lead full remote. Portfolio & CV.">
  <meta property="og:title" content="Etienne Bernoux — Tech Lead & Software Craftsman">
  <meta property="og:description" content="Je construis des choses — du code, des meubles, des outils.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="fr_FR">
  <meta property="og:locale:alternate" content="en_GB">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap">
  <style>

    :root {
      --text: #e4e4e7;
      --text-dim: #a1a1aa;
      --accent: #22d3ee;
      --accent2: #a78bfa;
      --accent3: #34d399;
      --bg: #09090b;
      --card-bg: #18181b;
      --border: #27272a;
      --mono: 'JetBrains Mono', monospace;
      --sans: 'Inter', -apple-system, sans-serif;
      --radius: 8px;
    }

    html[data-theme="light"] {
      --text: #1c1917;
      --text-dim: #57534e;
      --accent: #0891b2;
      --accent2: #7c3aed;
      --accent3: #059669;
      --bg: #f5f5f4;
      --card-bg: #ffffff;
      --border: #d6d3d1;
    }
    html[data-theme="light"] ::selection { background: rgba(8, 145, 178, 0.15); }
    html[data-theme="light"] .achievement.legendary { border-color: rgba(180, 130, 0, 0.35); }
    html[data-theme="light"] .achievement.legendary:hover { border-color: rgba(180, 130, 0, 0.6); }
    html[data-theme="light"] .achievement.epic { border-color: rgba(124, 58, 237, 0.3); }
    html[data-theme="light"] .achievement.epic:hover { border-color: rgba(124, 58, 237, 0.55); }
    html[data-theme="light"] .node-circle { fill: #ffffff !important; }
    html[data-theme="light"] .konami-toast { background: #ffffff; }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: var(--sans);
      color: var(--text);
      background: var(--bg);
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
      transition: background 0.4s, color 0.4s;
    }

    ::selection { background: rgba(34, 211, 238, 0.2); }

    .container {
      max-width: 760px;
      margin: 0 auto;
      padding: 5rem 1.5rem 3rem;
    }

    /* ── Lang toggle ── */
    .lang-toggle {
      position: fixed;
      top: 1.25rem;
      right: 1.25rem;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 0.35rem 0.75rem;
      font-family: var(--mono);
      font-size: 0.75rem;
      cursor: pointer;
      color: var(--text-dim);
      z-index: 10;
      transition: all 0.2s;
    }
    .lang-toggle:hover { color: var(--accent); border-color: var(--accent); }

    /* ── Hero ── */
    .hero { margin-bottom: 4rem; }

    .hero-prompt {
      font-family: var(--mono);
      font-size: 0.8rem;
      color: var(--text-dim);
      margin-bottom: 0.75rem;
    }
    .hero-prompt .path { color: var(--accent3); }
    .hero-prompt .chevron { color: var(--accent); }

    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1.15;
      margin-bottom: 0.5rem;
    }
    .hero h1 .dot { color: var(--accent); }

    .hero .tagline {
      font-size: 1.15rem;
      color: var(--text-dim);
      margin-bottom: 1.25rem;
    }

    .hero-links {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .hero-links a {
      font-family: var(--mono);
      font-size: 0.8rem;
      color: var(--text-dim);
      text-decoration: none;
      padding: 0.4rem 0.85rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      transition: all 0.2s;
    }
    .hero-links a:hover {
      color: var(--accent);
      border-color: var(--accent);
      background: rgba(34, 211, 238, 0.05);
    }

    /* ── Sections ── */
    section { margin-bottom: 3.5rem; }

    .section-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--accent2);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .section-label::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border);
    }

    /* ── About ── */
    .about p {
      color: var(--text-dim);
      font-size: 0.95rem;
      max-width: 600px;
    }
    .about .highlight {
      color: var(--text);
      font-weight: 500;
    }

    /* (timeline removed — replaced by achievements) */

    /* ── Exploration Minimap ── */
    .minimap {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      background: rgba(10, 12, 18, 0.85);
      border: 1px solid rgba(100, 220, 255, 0.15);
      border-radius: var(--radius);
      overflow: hidden;
    }
    html[data-theme="light"] .minimap {
      background: rgba(15, 23, 42, 0.06);
      border-color: rgba(0, 80, 120, 0.2);
    }
    html[data-theme="light"] .mm-region { opacity: 0.12; }
    html[data-theme="light"] .mm-label { opacity: 0.6; }
    html[data-theme="light"] .mm-label[data-zone="code"]    { color: #0e7490; }
    html[data-theme="light"] .mm-label[data-zone="spatial"] { color: #6d28d9; }
    html[data-theme="light"] .mm-label[data-zone="atelier"] { color: #047857; }
    html[data-theme="light"] .mm-label[data-zone="famille"] { color: #a16207; }
    /* grid overlay */
    .minimap::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image:
        linear-gradient(rgba(100, 220, 255, 0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(100, 220, 255, 0.04) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
    }
    html[data-theme="light"] .minimap::before {
      background-image:
        linear-gradient(rgba(0, 60, 100, 0.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 60, 100, 0.06) 1px, transparent 1px);
    }
    /* scan line animation */
    .minimap::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 0%, rgba(100, 220, 255, 0.03) 50%, transparent 100%);
      height: 30%;
      animation: scanline 4s linear infinite;
      pointer-events: none;
    }
    html[data-theme="light"] .minimap::after {
      background: linear-gradient(180deg, transparent 0%, rgba(0, 80, 140, 0.04) 50%, transparent 100%);
    }
    @keyframes scanline { 0% { top: -30%; } 100% { top: 100%; } }

    /* zone regions — positioned absolutely */
    .mm-region {
      position: absolute;
      border-radius: 50%;
      filter: blur(25px);
      opacity: 0.15;
      pointer-events: none;
      transition: opacity 0.4s;
    }
    .mm-region[data-zone="code"]    { background: #22d3ee; width: 45%; height: 70%; top: 10%; left: 3%; }
    .mm-region[data-zone="spatial"] { background: #a78bfa; width: 40%; height: 60%; top: 5%;  left: 55%; }
    .mm-region[data-zone="atelier"] { background: #34d399; width: 35%; height: 55%; top: 40%; left: 55%; }
    .mm-region[data-zone="famille"] { background: #eab308; width: 30%; height: 50%; top: 45%; left: 8%; }

    /* zone labels */
    .mm-label {
      position: absolute;
      font-family: var(--mono);
      font-size: 0.55rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      opacity: 0.35;
      pointer-events: none;
    }
    .mm-label[data-zone="code"]    { color: #22d3ee; top: 8%;  left: 12%; }
    .mm-label[data-zone="spatial"] { color: #a78bfa; top: 8%;  left: 68%; }
    .mm-label[data-zone="atelier"] { color: #34d399; top: 62%; left: 68%; }
    .mm-label[data-zone="famille"] { color: #eab308; top: 62%; left: 12%; }

    /* POI dots */
    .mm-poi {
      position: absolute;
      cursor: pointer;
      transform: translate(-50%, -50%);
      z-index: 2;
      padding: 10px;
    }
    .mm-poi .mm-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      position: relative;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .mm-poi .mm-dot::after {
      content: '';
      position: absolute;
      inset: -3px;
      border-radius: 50%;
      border: 1px solid currentColor;
      opacity: 0;
      animation: poi-ping 2.5s ease-out infinite;
    }
    @keyframes poi-ping {
      0%   { transform: scale(1); opacity: 0.6; }
      100% { transform: scale(2.5); opacity: 0; }
    }
    .mm-poi:hover .mm-dot { transform: scale(1.5); }
    .mm-poi.active .mm-dot { transform: scale(1.8); }
    .mm-poi .mm-tip {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      font-family: var(--mono);
      font-size: 0.6rem;
      color: var(--text);
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.2s;
      pointer-events: none;
      background: rgba(10, 12, 18, 0.7);
      padding: 2px 6px;
      border-radius: 3px;
    }
    html[data-theme="light"] .mm-poi .mm-tip {
      background: rgba(255, 255, 255, 0.85);
    }
    .mm-poi:hover .mm-tip { opacity: 1; }
    .mm-poi.placeholder .mm-dot { opacity: 0.25; }
    .mm-poi.placeholder .mm-dot::after { display: none; }

    @media (max-width: 580px) {
      .minimap { aspect-ratio: 4 / 5; }
      .mm-tip { display: none; }
    }

    /* Detail panel */
    .map-detail {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem 1.25rem;
      margin-top: 1rem;
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: all 0.4s ease-out;
    }
    .map-detail.show {
      max-height: 200px;
      opacity: 1;
    }
    .map-detail .detail-zone {
      font-family: var(--mono);
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.4rem;
    }
    .map-detail .detail-name {
      font-weight: 600;
      font-size: 0.95rem;
      margin-bottom: 0.15rem;
    }
    .map-detail .detail-ctx {
      font-family: var(--mono);
      font-size: 0.7rem;
      color: var(--text-dim);
      margin-bottom: 0.35rem;
    }
    .map-detail .detail-desc {
      font-size: 0.85rem;
      color: var(--text-dim);
      line-height: 1.5;
    }
    .map-detail a {
      color: var(--accent);
      text-decoration: none;
    }
    .map-detail a:hover { text-decoration: underline; }

    /* ── Skill Tree ── */
    .skill-tree-wrap {
      position: relative;
      width: 100%;
      overflow-x: auto;
      padding: 1rem 0;
    }
    .skill-tree-svg {
      display: block;
      margin: 0 auto;
      max-width: 100%;
      height: auto;
    }
    .skill-tree-svg .edge {
      stroke-dasharray: 6 4;
      stroke-dashoffset: 100;
      transition: stroke-dashoffset 0.8s ease-out, opacity 0.6s;
      opacity: 0;
    }
    .skill-tree-svg.revealed .edge {
      stroke-dashoffset: 0;
      opacity: 1;
    }
    .skill-tree-svg .node-circle {
      transition: r 0.2s, filter 0.2s;
      cursor: pointer;
    }
    .skill-tree-svg .node-circle:hover {
      r: 22;
      filter: drop-shadow(0 0 12px currentColor);
    }
    .skill-tree-svg .node-icon {
      pointer-events: none;
      font-size: 14px;
      transition: font-size 0.2s;
    }
    .skill-tree-svg .node-label {
      font-family: var(--mono);
      font-size: 10px;
      fill: var(--text-dim);
      transition: fill 0.2s;
      pointer-events: none;
    }
    .skill-tree-svg .node-group:hover .node-label { fill: var(--text); }
    .skill-tree-svg .node-group {
      opacity: 0;
      transform: scale(0.5);
      transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    }
    .skill-tree-svg.revealed .node-group {
      opacity: 1;
      transform: scale(1);
    }
    /* staggered reveal */
    .skill-tree-svg.revealed .node-group.d0 { transition-delay: 0s; }
    .skill-tree-svg.revealed .node-group.d1 { transition-delay: 0.15s; }
    .skill-tree-svg.revealed .node-group.d2 { transition-delay: 0.3s; }
    .skill-tree-svg.revealed .node-group.d3 { transition-delay: 0.45s; }
    .skill-tree-svg.revealed .edge.d0 { transition-delay: 0.05s; }
    .skill-tree-svg.revealed .edge.d1 { transition-delay: 0.2s; }
    .skill-tree-svg.revealed .edge.d2 { transition-delay: 0.35s; }

    /* Tooltip */
    .tree-tooltip {
      position: fixed;
      pointer-events: none;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 0.5rem 0.75rem;
      font-family: var(--mono);
      font-size: 0.75rem;
      color: var(--text);
      z-index: 20;
      opacity: 0;
      transition: opacity 0.15s;
      max-width: 220px;
    }
    .tree-tooltip.show { opacity: 1; }
    .tree-tooltip .tt-name { font-weight: 600; margin-bottom: 2px; }
    .tree-tooltip .tt-desc { color: var(--text-dim); font-size: 0.7rem; }

    /* ── Achievements ── */
    .achievements-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }
    .achievement {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem 1rem 1rem 3.2rem;
      position: relative;
      overflow: hidden;
      transition: all 0.3s;
      opacity: 0;
      transform: translateY(8px);
    }
    .achievement.revealed {
      opacity: 1;
      transform: translateY(0);
    }
    .achievement:hover {
      border-color: var(--accent);
      transform: translateY(-2px);
    }
    .achievement::before {
      content: attr(data-icon);
      position: absolute;
      left: 0.85rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.3rem;
      width: 1.8rem;
      text-align: center;
    }
    .achievement .ach-title {
      font-family: var(--mono);
      font-weight: 600;
      font-size: 0.8rem;
      color: var(--text);
      margin-bottom: 2px;
    }
    .achievement .ach-desc {
      font-size: 0.72rem;
      color: var(--text-dim);
      line-height: 1.4;
    }
    .achievement .ach-year {
      font-family: var(--mono);
      font-size: 0.65rem;
      color: var(--accent);
      margin-top: 4px;
    }
    .achievement.legendary { border-color: rgba(234, 179, 8, 0.3); }
    .achievement.legendary:hover { border-color: rgba(234, 179, 8, 0.6); box-shadow: 0 0 20px rgba(234, 179, 8, 0.08); }
    .achievement.legendary .ach-year { color: #eab308; }
    .achievement.epic { border-color: rgba(167, 139, 250, 0.3); }
    .achievement.epic:hover { border-color: rgba(167, 139, 250, 0.6); }
    .achievement.epic .ach-year { color: var(--accent2); }

    @media (max-width: 580px) {
      .achievements-grid { grid-template-columns: 1fr; }
    }

    /* (education merged into achievements) */

    /* ── Footer ── */
    footer {
      margin-top: 4rem;
      padding-top: 2rem;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .footer-links {
      display: flex;
      gap: 1.5rem;
    }
    .footer-links a {
      font-family: var(--mono);
      font-size: 0.8rem;
      color: var(--text-dim);
      text-decoration: none;
      transition: color 0.2s;
    }
    .footer-links a:hover { color: var(--accent); }
    .footer-copy {
      font-family: var(--mono);
      font-size: 0.7rem;
      color: var(--border);
    }

    /* ── Responsive ── */
    @media (max-width: 580px) {
      .container { padding: 3rem 1rem 2rem; }
      .hero h1 { font-size: 1.8rem; }
      .map-svg { min-height: 280px; }
    }

    /* ── Bilingual ── */
    [data-lang="en"] { display: none; }
    html[lang="en"] [data-lang="en"] { display: revert; }
    html[lang="en"] [data-lang="fr"] { display: none; }

    /* ── Canvas BG ── */
    #bg {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }
    .container { position: relative; z-index: 1; }
    .lang-toggle { z-index: 10; }

    /* ── Theme toggle ── */
    .theme-toggle {
      position: fixed;
      top: 1.25rem;
      right: 5rem;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 0.35rem 0.75rem;
      font-size: 0.85rem;
      cursor: pointer;
      color: var(--text-dim);
      z-index: 10;
      transition: all 0.3s;
      line-height: 1;
    }
    .theme-toggle:hover { color: var(--accent); border-color: var(--accent); }

    /* ── Easter eggs ── */
    .hero h1 .dot {
      cursor: default;
      transition: all 0.3s;
    }
    .hero h1 .dot:hover {
      text-shadow: 0 0 12px var(--accent);
    }
    .secret-msg {
      font-family: var(--mono);
      font-size: 0.75rem;
      color: var(--accent);
      opacity: 0;
      max-height: 0;
      overflow: hidden;
      transition: all 0.5s ease-out;
      margin-top: 0.5rem;
    }
    .secret-msg.show {
      opacity: 1;
      max-height: 3rem;
    }

    /* Konami mode */
    .konami-active {
      animation: konamiFlash 0.3s;
    }
    @keyframes konamiFlash {
      0%, 100% { filter: none; }
      50% { filter: hue-rotate(90deg) saturate(2); }
    }
    .konami-toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: var(--card-bg);
      border: 1px solid #eab308;
      border-radius: var(--radius);
      padding: 0.75rem 1.5rem;
      font-family: var(--mono);
      font-size: 0.8rem;
      color: #eab308;
      z-index: 100;
      opacity: 0;
      transition: all 0.4s ease-out;
      pointer-events: none;
      white-space: nowrap;
    }
    .konami-toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* Stars easter egg tooltip */
    .stars-hint {
      cursor: help;
      border-bottom: 1px dotted rgba(167, 139, 250, 0.3);
      transition: border-color 0.2s;
    }
    .stars-hint:hover {
      border-color: var(--accent2);
    }

    /* ── Focus styles (a11y) ── */
    :focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    /* ── Subtle animations ── */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .hero, section, footer {
      animation: fadeUp 0.5s ease-out both;
    }
    section:nth-child(2) { animation-delay: 0.05s; }
    section:nth-child(3) { animation-delay: 0.1s; }
    section:nth-child(4) { animation-delay: 0.15s; }
    section:nth-child(5) { animation-delay: 0.2s; }
    section:nth-child(6) { animation-delay: 0.25s; }
    footer { animation-delay: 0.3s; }

    /* ── Reduced motion ── */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      #bg { display: none; }
    }
  </style>
</head>
<body>

<canvas id="bg"></canvas>
<div class="konami-toast" id="konami-toast">&#127918; Achievement unlocked: You know the code.</div>

<button class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" aria-label="Toggle light/dark mode">&#9790;</button>
<button class="lang-toggle" onclick="toggleLang()" aria-label="Switch language">
  <span data-lang="fr">EN</span>
  <span data-lang="en">FR</span>
</button>

<div class="container">
<main>
  <div class="hero">
    <div class="hero-prompt">
      <span class="path">~/etienne</span> <span class="chevron">&rsaquo;</span> cat README.md
    </div>
    <h1>Etienne Bernoux<span class="dot" id="secret-dot" title="">.</span></h1>
    <div class="secret-msg" id="secret-msg">
      <span data-lang="fr">&gt; The factory must grow. &mdash; mais d'abord, un caf&eacute;.</span>
      <span data-lang="en">&gt; The factory must grow. &mdash; but first, coffee.</span>
    </div>
    <p class="tagline">
      <span data-lang="fr">Je construis des choses &mdash; du code, des meubles, des outils.<br>Tech Lead le jour, artisan le reste du temps.</span>
      <span data-lang="en">I build things &mdash; code, furniture, tools.<br>Tech Lead by day, craftsman the rest of the time.</span>
    </p>
    <div class="hero-links">
      <a href="mailto:etienne@bernoux.fr">etienne@bernoux.fr</a>
      <a href="https://github.com/Etienne-Bernoux" target="_blank">github</a>
      <a href="https://www.linkedin.com/in/etienne-bernoux-06313682/" target="_blank">linkedin</a>
      <span style="font-family:var(--mono);font-size:0.8rem;color:var(--text-dim);padding:0.4rem 0.85rem;border:1px solid var(--border);border-radius:var(--radius)">Dr&ocirc;me, France</span>
    </div>
  </div>

  <!-- ── Achievements ── -->
  <section id="achievements-section">
    <div class="section-label">
      <span data-lang="fr">// achievements unlocked</span>
      <span data-lang="en">// achievements unlocked</span>
    </div>

    <div class="achievements-grid">

      <div class="achievement legendary" data-icon="&#9733;" style="transition-delay:0s">
        <div class="ach-title">Tech Lead</div>
        <div class="ach-desc" data-lang="fr">Pilotage d'&eacute;quipe &middot; transactions financi&egrave;res &middot; 4 marques</div>
        <div class="ach-desc" data-lang="en">Team leadership &middot; financial transactions &middot; 4 brands</div>
        <div class="ach-year">InVivo Digital Factory &middot; 2024</div>
      </div>

      <div class="achievement epic" data-icon="&#9878;">
        <div class="ach-title" data-lang="fr">Refonte transactionnelle</div>
        <div class="ach-title" data-lang="en">Transactional rewrite</div>
        <div class="ach-desc" data-lang="fr">Du panier &agrave; la commande &mdash; migration compl&egrave;te des flux</div>
        <div class="ach-desc" data-lang="en">Cart to order &mdash; complete flow migration</div>
        <div class="ach-year">InVivo &middot; 2023</div>
      </div>

      <div class="achievement" data-icon="&#9881;">
        <div class="ach-title" data-lang="fr">Brique logistique</div>
        <div class="ach-title" data-lang="en">Logistics module</div>
        <div class="ach-desc" data-lang="fr">Architecture d'un module logistique partag&eacute; multi-enseignes</div>
        <div class="ach-desc" data-lang="en">Shared logistics module architecture across brands</div>
        <div class="ach-year">InVivo &middot; 2022</div>
      </div>

      <div class="achievement" data-icon="&#127934;">
        <div class="ach-title">Roland-Garros</div>
        <div class="ach-desc" data-lang="fr">Billetterie du tournoi &mdash; rg.com</div>
        <div class="ach-desc" data-lang="en">Tournament ticketing system &mdash; rg.com</div>
        <div class="ach-year">OCTO Technology &middot; 2019</div>
      </div>

      <div class="achievement epic" data-icon="&#127467;&#127479;">
        <div class="ach-title">numerique.gouv.fr</div>
        <div class="ach-desc" data-lang="fr">Site officiel de la DINSIC &mdash; service public num&eacute;rique</div>
        <div class="ach-desc" data-lang="en">Official DINSIC website &mdash; French digital public service</div>
        <div class="ach-year">OCTO &middot; DINSIC &middot; 2019</div>
      </div>

      <div class="achievement" data-icon="&#127793;">
        <div class="ach-title">Aladin.farm</div>
        <div class="ach-desc" data-lang="fr">Plateforme B2Ag pour le monde agricole &mdash; du d&eacute;but &agrave; aujourd'hui</div>
        <div class="ach-desc" data-lang="en">B2Ag platform for agriculture &mdash; from day one to now</div>
        <div class="ach-year">OCTO &rarr; InVivo &middot; 2018</div>
      </div>

      <div class="achievement" data-icon="&#128640;">
        <div class="ach-title" data-lang="fr">Premier drone</div>
        <div class="ach-title" data-lang="en">First drone</div>
        <div class="ach-desc" data-lang="fr">Chef de projet 2 ans &mdash; ECE Inov-Award</div>
        <div class="ach-desc" data-lang="en">Project lead 2 years &mdash; ECE Inov-Award</div>
        <div class="ach-year">ECE &middot; 2012 &mdash; 2014</div>
      </div>

      <div class="achievement" data-icon="&#9968;">
        <div class="ach-title" data-lang="fr">Dipl&ocirc;me d'ing&eacute;nieur</div>
        <div class="ach-title" data-lang="en">Engineering Degree</div>
        <div class="ach-desc" data-lang="fr">Syst&egrave;mes d'information &mdash; ECE Paris</div>
        <div class="ach-desc" data-lang="en">Information Systems &mdash; ECE Paris</div>
        <div class="ach-year">ECE &middot; 2018</div>
      </div>

      <div class="achievement" data-icon="&#9876;">
        <div class="ach-title" data-lang="fr">Chef scout</div>
        <div class="ach-title" data-lang="en">Scout leader</div>
        <div class="ach-desc" data-lang="fr">Encadrement &middot; transmission &middot; plein air</div>
        <div class="ach-desc" data-lang="en">Leadership &middot; passing on &middot; outdoors</div>
        <div class="ach-year">Scouts Unitaires de France</div>
      </div>

    </div>
  </section>

  <!-- ── Exploration Map ── -->
  <section id="map-section">
    <div class="section-label">
      <span data-lang="fr">// ce que je construis</span>
      <span data-lang="en">// things I build</span>
    </div>

    <div class="minimap">
      <!-- Glow regions -->
      <div class="mm-region" data-zone="code"></div>
      <div class="mm-region" data-zone="spatial"></div>
      <div class="mm-region" data-zone="atelier"></div>
      <div class="mm-region" data-zone="famille"></div>

      <!-- Zone labels -->
      <span class="mm-label" data-zone="code">Code</span>
      <span class="mm-label" data-zone="spatial">Spatial</span>
      <span class="mm-label" data-zone="atelier"><span data-lang="fr">Atelier</span><span data-lang="en">Workshop</span></span>
      <span class="mm-label" data-zone="famille"><span data-lang="fr">Famille</span><span data-lang="en">Family</span></span>

      <!-- CODE POIs — top-left quadrant -->
      <div class="mm-poi" data-zone="code" style="top:22%;left:18%" data-poi="jardiland" data-name="Jardiland &middot; Gammvert" data-ctx="invivo &middot; 2021&mdash;now" data-desc-fr="E-commerce multi-enseignes. Paiement, logistique, int&eacute;gration SAP." data-desc-en="Multi-brand e-commerce. Payment, logistics, SAP integration." data-color="#22d3ee" data-link="">
        <div class="mm-dot" style="background:#22d3ee;color:#22d3ee"></div>
        <span class="mm-tip">Jardiland</span>
      </div>
      <div class="mm-poi" data-zone="code" style="top:35%;left:10%" data-poi="aladin" data-name="Aladin.farm &middot; Farmi" data-ctx="invivo + octo &middot; 2018&mdash;now" data-desc-fr="Plateforme B2Ag pour le monde agricole. Du d&eacute;veloppement initial au pilotage." data-desc-en="B2Ag platform for agriculture. From initial development to technical leadership." data-color="#22d3ee" data-link="">
        <div class="mm-dot" style="background:#22d3ee;color:#22d3ee"></div>
        <span class="mm-tip">Aladin.farm</span>
      </div>
      <div class="mm-poi" data-zone="code" style="top:28%;left:32%" data-poi="rg" data-name="Roland-Garros" data-ctx="octo &middot; rg.com &middot; 2019" data-desc-fr="Billetterie du tournoi de Roland-Garros." data-desc-en="Tournament ticketing system for Roland-Garros." data-color="#22d3ee" data-link="">
        <div class="mm-dot" style="background:#22d3ee;color:#22d3ee"></div>
        <span class="mm-tip">Roland-Garros</span>
      </div>
      <div class="mm-poi" data-zone="code" style="top:42%;left:24%" data-poi="gouv" data-name="numerique.gouv.fr" data-ctx="octo &middot; dinsic &middot; 2019" data-desc-fr="Site officiel du num&eacute;rique de l'&Eacute;tat. Jekyll, Foundation, CircleCI." data-desc-en="French government digital website. Jekyll, Foundation, CircleCI." data-color="#22d3ee" data-link="">
        <div class="mm-dot" style="background:#22d3ee;color:#22d3ee"></div>
        <span class="mm-tip">.gouv.fr</span>
      </div>

      <div class="mm-poi" data-zone="code" style="top:38%;left:36%" data-poi="spacebreakout" data-name="Space Breakout" data-ctx="canvas &middot; js &middot; 2025" data-desc-fr="Casse-briques spatial en pur JS Canvas. Parce que m&ecirc;me les side projects m&eacute;ritent des &eacute;toiles." data-desc-en="Space-themed breakout game in pure JS Canvas. Because even side projects deserve stars." data-color="#22d3ee" data-link="https://etienne-bernoux.github.io/space-breakout/">
        <div class="mm-dot" style="background:#22d3ee;color:#22d3ee"></div>
        <span class="mm-tip">Space Breakout</span>
      </div>

      <!-- SPATIAL POIs — top-right quadrant -->
      <div class="mm-poi" data-zone="spatial" style="top:20%;left:72%" data-poi="space-veille" data-name-fr="Veille a&eacute;rospatiale" data-name-en="Aerospace watch" data-ctx="passion" data-desc-fr="SpaceX, Ariane, exploration spatiale. Le ciel comme horizon." data-desc-en="SpaceX, Ariane, space exploration. The sky as a horizon." data-color="#a78bfa" data-link="">
        <div class="mm-dot" style="background:#a78bfa;color:#a78bfa"></div>
        <span class="mm-tip" data-lang="fr">Veille a&eacute;ro</span>
        <span class="mm-tip" data-lang="en">Aerospace</span>
      </div>
      <div class="mm-poi" data-zone="spatial" style="top:32%;left:82%" data-poi="drone" data-name-fr="Drone ECE" data-name-en="ECE Drone" data-ctx="ece &middot; 2012&mdash;2014" data-desc-fr="Conception d'un drone sur 2 ans. Chef de projet, ECE Inov-Award." data-desc-en="Drone built over 2 years. Project lead, ECE Inov-Award." data-color="#a78bfa" data-link="">
        <div class="mm-dot" style="background:#a78bfa;color:#a78bfa"></div>
        <span class="mm-tip" data-lang="fr">Drone ECE</span>
        <span class="mm-tip" data-lang="en">ECE Drone</span>
      </div>

      <!-- ATELIER POIs — bottom-right quadrant -->
      <div class="mm-poi" data-zone="atelier" style="top:68%;left:70%" data-poi="meubles" data-name-fr="Plans de meubles" data-name-en="Furniture plans" data-ctx-fr="bois &middot; conception &middot; en cours" data-ctx-en="wood &middot; design &middot; ongoing" data-desc-fr="Conception et fabrication de meubles. Plans, d&eacute;coupes, assemblage." data-desc-en="Furniture design and building. Plans, cuts, assembly." data-color="#34d399" data-link="https://etienne-bernoux.github.io/plan-meuble/">
        <div class="mm-dot" style="background:#34d399;color:#34d399"></div>
        <span class="mm-tip" data-lang="fr">Meubles</span>
        <span class="mm-tip" data-lang="en">Furniture</span>
      </div>
      <div class="mm-poi" data-zone="atelier" style="top:78%;left:82%" data-poi="bricolage" data-name-fr="Bricolage" data-name-en="DIY" data-ctx-fr="maison &middot; r&eacute;parations" data-ctx-en="home &middot; repairs" data-desc-fr="Tout ce qui se r&eacute;pare, s'am&eacute;liore, se construit &agrave; la main." data-desc-en="Anything that can be fixed, improved, or built by hand." data-color="#34d399" data-link="">
        <div class="mm-dot" style="background:#34d399;color:#34d399"></div>
        <span class="mm-tip" data-lang="fr">Bricolage</span>
        <span class="mm-tip" data-lang="en">DIY</span>
      </div>

      <!-- FAMILLE POIs — bottom-left quadrant -->
      <div class="mm-poi" data-zone="famille" style="top:70%;left:18%" data-poi="mathquiz" data-name="MathQuiz" data-ctx="react &middot; pwa &middot; 2025" data-desc-fr="App pour apprendre les tables de multiplication. Faite pour ceux qui comptent le plus." data-desc-en="Multiplication tables app. Built for the ones who matter most." data-link="https://etienne-bernoux.github.io/math-learner/" data-color="#eab308">
        <div class="mm-dot" style="background:#eab308;color:#eab308"></div>
        <span class="mm-tip">MathQuiz</span>
      </div>
      <div class="mm-poi placeholder" data-zone="famille" style="top:80%;left:28%" data-poi="future" data-name-fr="&Agrave; venir..." data-name-en="Coming soon..." data-ctx="????" data-desc-fr="D'autres outils pour la maison. Stay tuned." data-desc-en="More tools for the household. Stay tuned." data-color="#eab308">
        <div class="mm-dot" style="background:#eab308;color:#eab308"></div>
        <span class="mm-tip" data-lang="fr">&Agrave; venir...</span>
        <span class="mm-tip" data-lang="en">Coming soon...</span>
      </div>
    </div>

    <!-- Detail panel below the map -->
    <div class="map-detail" id="map-detail">
      <div class="detail-zone" id="detail-zone"></div>
      <div class="detail-name" id="detail-name"></div>
      <div class="detail-ctx" id="detail-ctx"></div>
      <div class="detail-desc" id="detail-desc"></div>
    </div>
  </section>

  <!-- ── Skill Tree ── -->
  <section id="skills-section">
    <div class="section-label">
      <span data-lang="fr">// arbre de comp&eacute;tences</span>
      <span data-lang="en">// skill tree</span>
    </div>

    <div class="skill-tree-wrap">
      <svg id="skill-tree" class="skill-tree-svg" viewBox="0 0 720 420" xmlns="http://www.w3.org/2000/svg">
        <!-- Edges drawn first (behind nodes) -->
        <!-- Branch: Stack (cyan) -->
        <line class="edge d0" x1="360" y1="210" x2="200" y2="110" stroke="#22d3ee" stroke-width="1.5"/>
        <line class="edge d1" x1="200" y1="110" x2="100" y2="50"  stroke="#22d3ee" stroke-width="1.5"/>
        <line class="edge d1" x1="200" y1="110" x2="100" y2="170" stroke="#22d3ee" stroke-width="1.5"/>
        <line class="edge d2" x1="100" y1="50"  x2="30"  y2="50"  stroke="#22d3ee" stroke-width="1"/>
        <line class="edge d2" x1="100" y1="170" x2="30"  y2="130" stroke="#22d3ee" stroke-width="1"/>
        <line class="edge d2" x1="100" y1="170" x2="30"  y2="210" stroke="#22d3ee" stroke-width="1"/>

        <!-- Branch: Architecture (purple) -->
        <line class="edge d0" x1="360" y1="210" x2="360" y2="350" stroke="#a78bfa" stroke-width="1.5"/>
        <line class="edge d1" x1="360" y1="350" x2="260" y2="400" stroke="#a78bfa" stroke-width="1.5"/>
        <line class="edge d1" x1="360" y1="350" x2="460" y2="400" stroke="#a78bfa" stroke-width="1.5"/>

        <!-- Branch: Leadership (green) -->
        <line class="edge d0" x1="360" y1="210" x2="530" y2="110" stroke="#34d399" stroke-width="1.5"/>
        <line class="edge d1" x1="530" y1="110" x2="630" y2="50"  stroke="#34d399" stroke-width="1.5"/>
        <line class="edge d1" x1="530" y1="110" x2="630" y2="170" stroke="#34d399" stroke-width="1.5"/>
        <line class="edge d2" x1="630" y1="170" x2="690" y2="130" stroke="#34d399" stroke-width="1"/>
        <line class="edge d2" x1="630" y1="170" x2="690" y2="220" stroke="#34d399" stroke-width="1"/>

        <!-- ── Root node ── -->
        <g class="node-group d0" data-name="Craft" data-desc-fr="Le noyau — code, bois, id&eacute;es" data-desc-en="The core — code, wood, ideas">
          <circle class="node-circle" cx="360" cy="210" r="24" fill="#18181b" stroke="#22d3ee" stroke-width="2.5" style="color:#22d3ee"/>
          <text class="node-icon" x="360" y="215" text-anchor="middle" fill="#22d3ee">&#9881;</text>
          <text class="node-label" x="360" y="245" text-anchor="middle">Craft</text>
        </g>

        <!-- ── Stack branch (cyan) ── -->
        <g class="node-group d1" data-name="JavaScript" data-desc-fr="Langage principal &middot; 7+ ans" data-desc-en="Primary language &middot; 7+ years">
          <circle class="node-circle" cx="200" cy="110" r="18" fill="#18181b" stroke="#22d3ee" stroke-width="2" style="color:#22d3ee"/>
          <text class="node-icon" x="200" y="115" text-anchor="middle" fill="#22d3ee">JS</text>
          <text class="node-label" x="200" y="140" text-anchor="middle">JavaScript</text>
        </g>
        <g class="node-group d2" data-name="Vue.js" data-desc-fr="Framework front de pr&eacute;dilection" data-desc-en="Go-to frontend framework">
          <circle class="node-circle" cx="100" cy="50" r="15" fill="#18181b" stroke="#22d3ee" stroke-width="1.5" style="color:#22d3ee"/>
          <text class="node-icon" x="100" y="55" text-anchor="middle" fill="#22d3ee" style="font-size:11px">V</text>
          <text class="node-label" x="100" y="75" text-anchor="middle">Vue.js</text>
        </g>
        <g class="node-group d2" data-name="Node.js" data-desc-fr="Backend runtime &middot; APIs, microservices" data-desc-en="Backend runtime &middot; APIs, microservices">
          <circle class="node-circle" cx="100" cy="170" r="15" fill="#18181b" stroke="#22d3ee" stroke-width="1.5" style="color:#22d3ee"/>
          <text class="node-icon" x="100" y="175" text-anchor="middle" fill="#22d3ee" style="font-size:11px">N</text>
          <text class="node-label" x="100" y="195" text-anchor="middle">Node.js</text>
        </g>
        <g class="node-group d3" data-name="Full Stack" data-desc-fr="Front + Back + Infra" data-desc-en="Front + Back + Infra">
          <circle class="node-circle" cx="30" cy="50" r="12" fill="#18181b" stroke="#22d3ee" stroke-width="1" style="color:#22d3ee"/>
          <text class="node-icon" x="30" y="54" text-anchor="middle" fill="#22d3ee" style="font-size:9px">FS</text>
        </g>
        <g class="node-group d3" data-name="Payment Systems" data-desc-fr="Payplug, Alma, PSP" data-desc-en="Payplug, Alma, PSP integration">
          <circle class="node-circle" cx="30" cy="130" r="12" fill="#18181b" stroke="#22d3ee" stroke-width="1" style="color:#22d3ee"/>
          <text class="node-icon" x="30" y="134" text-anchor="middle" fill="#22d3ee" style="font-size:9px">&#8364;</text>
        </g>
        <g class="node-group d3" data-name="SAP Integration" data-desc-fr="OMS &harr; SAP &middot; flux ERP" data-desc-en="OMS &harr; SAP &middot; ERP flows">
          <circle class="node-circle" cx="30" cy="210" r="12" fill="#18181b" stroke="#22d3ee" stroke-width="1" style="color:#22d3ee"/>
          <text class="node-icon" x="30" y="214" text-anchor="middle" fill="#22d3ee" style="font-size:8px">SAP</text>
        </g>

        <!-- ── Architecture branch (purple) ── -->
        <g class="node-group d1" data-name="Architecture" data-desc-fr="Conception de syst&egrave;mes distribu&eacute;s" data-desc-en="Distributed systems design">
          <circle class="node-circle" cx="360" cy="350" r="18" fill="#18181b" stroke="#a78bfa" stroke-width="2" style="color:#a78bfa"/>
          <text class="node-icon" x="360" y="355" text-anchor="middle" fill="#a78bfa">&#9632;</text>
          <text class="node-label" x="360" y="380" text-anchor="middle">Architecture</text>
        </g>
        <g class="node-group d2" data-name="Design Patterns" data-desc-fr="SOLID, DDD, Clean Architecture" data-desc-en="SOLID, DDD, Clean Architecture">
          <circle class="node-circle" cx="260" cy="400" r="15" fill="#18181b" stroke="#a78bfa" stroke-width="1.5" style="color:#a78bfa"/>
          <text class="node-icon" x="260" y="405" text-anchor="middle" fill="#a78bfa" style="font-size:11px">&#9670;</text>
          <text class="node-label" x="260" y="385" text-anchor="middle">Patterns</text>
        </g>
        <g class="node-group d2" data-name="Craftsmanship" data-desc-fr="Clean code, TDD, refactoring" data-desc-en="Clean code, TDD, refactoring">
          <circle class="node-circle" cx="460" cy="400" r="15" fill="#18181b" stroke="#a78bfa" stroke-width="1.5" style="color:#a78bfa"/>
          <text class="node-icon" x="460" y="405" text-anchor="middle" fill="#a78bfa" style="font-size:11px">&#9733;</text>
          <text class="node-label" x="460" y="385" text-anchor="middle">Craftsmanship</text>
        </g>

        <!-- ── Leadership branch (green) ── -->
        <g class="node-group d1" data-name="Leadership" data-desc-fr="Pilotage technique d'&eacute;quipe" data-desc-en="Technical team leadership">
          <circle class="node-circle" cx="530" cy="110" r="18" fill="#18181b" stroke="#34d399" stroke-width="2" style="color:#34d399"/>
          <text class="node-icon" x="530" y="115" text-anchor="middle" fill="#34d399">&#9654;</text>
          <text class="node-label" x="530" y="140" text-anchor="middle">Leadership</text>
        </g>
        <g class="node-group d2" data-name="Tech Lead" data-desc-fr="Strat&eacute;gie technique, code reviews, mentoring" data-desc-en="Technical strategy, code reviews, mentoring">
          <circle class="node-circle" cx="630" cy="50" r="15" fill="#18181b" stroke="#34d399" stroke-width="1.5" style="color:#34d399"/>
          <text class="node-icon" x="630" y="55" text-anchor="middle" fill="#34d399" style="font-size:10px">TL</text>
          <text class="node-label" x="630" y="75" text-anchor="middle">Tech Lead</text>
        </g>
        <g class="node-group d2" data-name="Team Management" data-desc-fr="Recrutement, rituels agile, montée en comp&eacute;tences" data-desc-en="Hiring, agile rituals, skill development">
          <circle class="node-circle" cx="630" cy="170" r="15" fill="#18181b" stroke="#34d399" stroke-width="1.5" style="color:#34d399"/>
          <text class="node-icon" x="630" y="175" text-anchor="middle" fill="#34d399" style="font-size:10px">&#9775;</text>
          <text class="node-label" x="630" y="195" text-anchor="middle">Team Mgmt</text>
        </g>
        <g class="node-group d3" data-name="E-commerce" data-desc-fr="Jardiland, Gammvert, Aladin, Farmi" data-desc-en="Jardiland, Gammvert, Aladin, Farmi">
          <circle class="node-circle" cx="690" cy="130" r="12" fill="#18181b" stroke="#34d399" stroke-width="1" style="color:#34d399"/>
          <text class="node-icon" x="690" y="134" text-anchor="middle" fill="#34d399" style="font-size:9px">&#128722;</text>
        </g>
        <g class="node-group d3" data-name="E-commerce" data-desc-fr="Multi-enseignes, marketplace" data-desc-en="Multi-brand, marketplace">
          <circle class="node-circle" cx="690" cy="220" r="12" fill="#18181b" stroke="#34d399" stroke-width="1" style="color:#34d399"/>
          <text class="node-icon" x="690" y="224" text-anchor="middle" fill="#34d399" style="font-size:8px">MKT</text>
        </g>

      </svg>
    </div>
    <div class="tree-tooltip" id="tree-tooltip">
      <div class="tt-name"></div>
      <div class="tt-desc"></div>
    </div>
  </section>

  <!-- ── About (bottom) ── -->
  <section class="about">
    <div class="section-label">
      <span data-lang="fr">// qui suis-je</span>
      <span data-lang="en">// who am I</span>
    </div>
    <p data-lang="fr">
      <span class="highlight">Ing&eacute;nieur de formation, artisan par conviction.</span> Je vis dans la Dr&ocirc;me avec ma femme et nos trois enfants, je travaille en full remote et je passe mon temps &agrave; construire &mdash; que ce soit des syst&egrave;mes de paiement pour des millions de transactions, une &eacute;tag&egrave;re dans mon atelier ou une app pour apprendre &agrave; compter. J'ai grandi chez OCTO Technology o&ugrave; j'ai appris la rigueur du craft, avant de poser mes valises chez InVivo Digital Factory o&ugrave; je pilote une &eacute;quipe depuis 2024. Ancien chef scout, j'aime transmettre &mdash; que ce soit autour d'un feu de camp ou dans une code review. Le soir, je l&egrave;ve les yeux vers <span class="stars-hint" title="Ad astra per aspera. &#10013;">les &eacute;toiles</span>.
    </p>
    <p data-lang="en">
      <span class="highlight">Engineer by training, craftsman by conviction.</span> I live in the Dr&ocirc;me valley with my wife and our three children, work fully remote, and spend my time building things &mdash; whether it's payment systems handling millions of transactions, a shelf in my workshop, or an app to learn multiplication tables. I grew up at OCTO Technology where I learned the rigor of the craft, before settling at InVivo Digital Factory where I've been leading a team since 2024. Former scout leader, I love passing things on &mdash; whether around a campfire or in a code review. In the evenings, I <span class="stars-hint" title="Ad astra per aspera. &#10013;">look up at the stars</span>.
    </p>
  </section>

</main>

  <footer>
    <div class="footer-links">
      <a href="mailto:etienne@bernoux.fr">email</a>
      <a href="https://github.com/Etienne-Bernoux" target="_blank">github</a>
      <a href="https://www.linkedin.com/in/etienne-bernoux-06313682/" target="_blank">linkedin</a>
    </div>
    <div class="footer-copy" title="Fac et spera.">&copy; 2026 Etienne Bernoux &middot; &#10013;</div>
  </footer>

</div>

<script>
  function toggleLang() {
    const html = document.documentElement;
    html.lang = html.lang === 'fr' ? 'en' : 'fr';
  }

  // ── Theme toggle ──
  function getTheme() {
    return document.documentElement.getAttribute('data-theme') || 'dark';
  }
  function applyTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    document.getElementById('theme-toggle').innerHTML = theme === 'light' ? '&#9728;' : '&#9790;';
  }
  function toggleTheme() {
    const next = getTheme() === 'dark' ? 'light' : 'dark';
    applyTheme(next);
    localStorage.setItem('theme', next);
    // reinit canvas
    if (typeof initCanvas === 'function') initCanvas();
  }
  // Init from localStorage or system pref
  (() => {
    const stored = localStorage.getItem('theme');
    if (stored) { applyTheme(stored); }
    else if (window.matchMedia('(prefers-color-scheme: light)').matches) { applyTheme('light'); }
    window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', e => {
      if (!localStorage.getItem('theme')) applyTheme(e.matches ? 'light' : 'dark');
    });
  })();

  // ── Easter egg: secret dot click ──
  (() => {
    const dot = document.getElementById('secret-dot');
    const msg = document.getElementById('secret-msg');
    let clicks = 0;
    dot.addEventListener('click', () => {
      clicks++;
      if (clicks >= 3) {
        msg.classList.toggle('show');
        clicks = 0;
      }
    });
  })();

  // ── Easter egg: Konami code ──
  (() => {
    const code = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
    let pos = 0;
    const toast = document.getElementById('konami-toast');

    document.addEventListener('keydown', (e) => {
      if (e.key === code[pos]) {
        pos++;
        if (pos === code.length) {
          pos = 0;
          document.body.classList.add('konami-active');
          toast.classList.add('show');
          // Spawn shooting stars
          for (let i = 0; i < 15; i++) {
            setTimeout(() => spawnStar(), i * 120);
          }
          setTimeout(() => {
            document.body.classList.remove('konami-active');
            toast.classList.remove('show');
          }, 4000);
        }
      } else {
        pos = e.key === code[0] ? 1 : 0;
      }
    });

    function spawnStar() {
      const star = document.createElement('div');
      star.textContent = '★';
      star.style.cssText = `
        position: fixed;
        top: ${Math.random() * 60}%;
        left: ${Math.random() * 100}%;
        font-size: ${12 + Math.random() * 20}px;
        color: #eab308;
        pointer-events: none;
        z-index: 99;
        opacity: 1;
        transition: all 1.5s ease-out;
      `;
      document.body.appendChild(star);
      requestAnimationFrame(() => {
        star.style.transform = `translateY(${60 + Math.random() * 100}px) rotate(${Math.random() * 360}deg)`;
        star.style.opacity = '0';
      });
      setTimeout(() => star.remove(), 2000);
    }
  })();

  // ── Exploration map: POI click → detail panel ──
  (() => {
    const panel = document.getElementById('map-detail');
    const zoneName = document.getElementById('detail-zone');
    const nameEl = document.getElementById('detail-name');
    const ctxEl = document.getElementById('detail-ctx');
    const descEl = document.getElementById('detail-desc');
    const lang = () => document.documentElement.lang || 'fr';
    let activePoi = null;

    document.querySelectorAll('.mm-poi').forEach(poi => {
      poi.addEventListener('click', () => {
        const l = lang();
        const zone = poi.dataset.zone || '';
        const name = (l === 'en' ? poi.dataset.nameEn : poi.dataset.nameFr) || poi.dataset.name || '';
        const ctx = (l === 'en' ? poi.dataset.ctxEn : poi.dataset.ctxFr) || poi.dataset.ctx || '';
        const desc = l === 'en' ? poi.dataset.descEn : poi.dataset.descFr;
        const link = poi.dataset.link;
        const color = poi.dataset.color;

        // deselect previous
        document.querySelectorAll('.mm-poi.active').forEach(p => p.classList.remove('active'));

        if (activePoi === poi.dataset.poi) {
          panel.classList.remove('show');
          activePoi = null;
          return;
        }
        activePoi = poi.dataset.poi;
        poi.classList.add('active');

        zoneName.textContent = zone.toUpperCase();
        zoneName.style.color = color;
        nameEl.innerHTML = link ? `<a href="${link}" target="_blank">${name}</a>` : name;
        ctxEl.textContent = ctx;
        descEl.textContent = desc;
        panel.style.borderColor = color;
        panel.classList.add('show');
      });
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('#map-section')) {
        panel.classList.remove('show');
        activePoi = null;
      }
    });
  })();

  // ── Achievements: staggered scroll reveal ──
  (() => {
    const items = document.querySelectorAll('.achievement');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          const idx = [...items].indexOf(e.target);
          setTimeout(() => e.target.classList.add('revealed'), idx * 100);
          observer.unobserve(e.target);
        }
      });
    }, { threshold: 0.15 });
    items.forEach(el => observer.observe(el));
  })();

  // ── Skill tree: scroll reveal + tooltips ──
  (() => {
    const svg = document.getElementById('skill-tree');
    const tooltip = document.getElementById('tree-tooltip');
    const lang = () => document.documentElement.lang || 'fr';

    // Scroll reveal
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          svg.classList.add('revealed');
          observer.unobserve(e.target);
        }
      });
    }, { threshold: 0.2 });
    observer.observe(svg);

    // Tooltips
    svg.querySelectorAll('.node-group').forEach(node => {
      node.addEventListener('mouseenter', (e) => {
        const name = node.dataset.name;
        const desc = lang() === 'en' ? node.dataset.descEn : node.dataset.descFr;
        if (!name) return;
        tooltip.querySelector('.tt-name').textContent = name;
        tooltip.querySelector('.tt-desc').textContent = desc || '';
        tooltip.classList.add('show');
      });
      node.addEventListener('mousemove', (e) => {
        let x = e.clientX + 12, y = e.clientY - 10;
        const rect = tooltip.getBoundingClientRect();
        if (x + rect.width > window.innerWidth - 8) x = e.clientX - rect.width - 12;
        if (y + rect.height > window.innerHeight - 8) y = e.clientY - rect.height - 4;
        tooltip.style.left = x + 'px';
        tooltip.style.top = y + 'px';
      });
      node.addEventListener('mouseleave', () => {
        tooltip.classList.remove('show');
      });
    });
  })();

  // ── Canvas background: stars (dark) / planes (light) ──
  (() => {
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');
    let w, h, entities = [];
    let animId;
    let mode = getTheme(); // 'dark' or 'light'

    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }

    // ── Stars mode (dark) ──
    function initStars() {
      entities = Array.from({ length: 80 }, () => ({
        x: Math.random() * w, y: Math.random() * h,
        vx: (Math.random() - 0.5) * 0.25, vy: (Math.random() - 0.5) * 0.25,
        r: Math.random() * 1.5 + 0.5,
      }));
    }
    function drawStars() {
      ctx.clearRect(0, 0, w, h);
      for (let i = 0; i < entities.length; i++) {
        const p = entities[i];
        p.x += p.vx; p.y += p.vy;
        if (p.x < 0 || p.x > w) p.vx *= -1;
        if (p.y < 0 || p.y > h) p.vy *= -1;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(34, 211, 238, 0.45)';
        ctx.fill();
        for (let j = i + 1; j < entities.length; j++) {
          const q = entities[j];
          const dx = p.x - q.x, dy = p.y - q.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 180) {
            ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(q.x, q.y);
            ctx.strokeStyle = `rgba(34, 211, 238, ${0.2 * (1 - dist / 180)})`;
            ctx.lineWidth = 0.8; ctx.stroke();
          }
        }
      }
    }

    // ── Planes mode (light) ──
    function initPlanes() {
      entities = Array.from({ length: 8 }, () => makePlane());
    }
    function makePlane() {
      const angle = (Math.random() * 0.4 - 0.2) + (Math.random() < 0.5 ? 0 : Math.PI);
      const speed = 0.4 + Math.random() * 0.6;
      return {
        x: Math.random() * w, y: Math.random() * h,
        vx: Math.cos(angle) * speed, vy: Math.sin(angle) * speed,
        trail: [], trailMax: 60 + Math.floor(Math.random() * 40),
        size: 3 + Math.random() * 2,
      };
    }
    function drawPlanes() {
      ctx.clearRect(0, 0, w, h);
      for (const p of entities) {
        p.x += p.vx; p.y += p.vy;
        p.trail.push({ x: p.x, y: p.y });
        if (p.trail.length > p.trailMax) p.trail.shift();
        // respawn if off-screen
        if (p.x < -100 || p.x > w + 100 || p.y < -100 || p.y > h + 100) {
          Object.assign(p, makePlane());
          // enter from edge
          if (p.vx > 0) p.x = -20; else if (p.vx < 0) p.x = w + 20;
          if (p.vy > 0) p.y = -20; else if (p.vy < 0) p.y = h + 20;
          p.trail = [];
        }
        // trail (contrail)
        for (let i = 1; i < p.trail.length; i++) {
          const alpha = (i / p.trail.length) * 0.12;
          ctx.beginPath();
          ctx.moveTo(p.trail[i - 1].x, p.trail[i - 1].y);
          ctx.lineTo(p.trail[i].x, p.trail[i].y);
          ctx.strokeStyle = `rgba(120, 120, 140, ${alpha})`;
          ctx.lineWidth = p.size * 0.6;
          ctx.stroke();
        }
        // plane (small triangle)
        const angle = Math.atan2(p.vy, p.vx);
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(angle);
        ctx.beginPath();
        ctx.moveTo(p.size * 2, 0);
        ctx.lineTo(-p.size, -p.size * 0.8);
        ctx.lineTo(-p.size * 0.3, 0);
        ctx.lineTo(-p.size, p.size * 0.8);
        ctx.closePath();
        ctx.fillStyle = 'rgba(100, 100, 120, 0.35)';
        ctx.fill();
        ctx.restore();
      }
    }

    // ── Canvas controller ──
    window.initCanvas = function() {
      cancelAnimationFrame(animId);
      resize();
      mode = getTheme();
      if (mode === 'light') initPlanes(); else initStars();
      loop();
    };
    function draw() { mode === 'light' ? drawPlanes() : drawStars(); }
    function loop() { draw(); animId = requestAnimationFrame(loop); }

    document.addEventListener('visibilitychange', () => {
      if (document.hidden) cancelAnimationFrame(animId); else loop();
    });
    window.addEventListener('resize', resize);
    initCanvas();
  })();
</script>

</body>
</html>
